"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/sheets";
exports.ids = ["pages/api/sheets"];
exports.modules = {

/***/ "googleapis":
/*!*****************************!*\
  !*** external "googleapis" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("googleapis");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsheets&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsheets.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsheets&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsheets.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_sheets_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/sheets.ts */ \"(api)/./pages/api/sheets.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_sheets_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_sheets_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/sheets\",\n        pathname: \"/api/sheets\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_sheets_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNoZWV0cyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGc2hlZXRzLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2tEO0FBQ2xEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxpREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsaURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2ZmaWNlLXN1cHBsaWVzLWFwcC8/OTUxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3NoZWV0cy50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NoZWV0c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NoZWV0c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsheets&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsheets.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/sheets.ts":
/*!*****************************!*\
  !*** ./pages/api/sheets.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var googleapis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! googleapis */ \"googleapis\");\n/* harmony import */ var googleapis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(googleapis__WEBPACK_IMPORTED_MODULE_0__);\n\nasync function getAuthToken() {\n    // 環境変数チェックを追加し、エラーメッセージを改善\n    if (!process.env.GOOGLE_APPLICATION_CREDENTIALS && !process.env.GOOGLE_APPLICATION_CREDENTIALS_JSON) {\n        console.warn(\"Google認証情報が設定されていません。テストモードで実行します。\");\n        return null;\n    }\n    try {\n        // GOOGLE_APPLICATION_CREDENTIALS_JSONが設定されている場合、それを使用\n        if (process.env.GOOGLE_APPLICATION_CREDENTIALS_JSON) {\n            const credentials = JSON.parse(process.env.GOOGLE_APPLICATION_CREDENTIALS_JSON);\n            return new googleapis__WEBPACK_IMPORTED_MODULE_0__.google.auth.GoogleAuth({\n                credentials,\n                scopes: [\n                    \"https://www.googleapis.com/auth/spreadsheets.readonly\"\n                ]\n            });\n        }\n        // 従来の方法（ファイルパス）\n        return new googleapis__WEBPACK_IMPORTED_MODULE_0__.google.auth.GoogleAuth({\n            keyFile: process.env.GOOGLE_APPLICATION_CREDENTIALS,\n            scopes: [\n                \"https://www.googleapis.com/auth/spreadsheets.readonly\"\n            ]\n        });\n    } catch (error) {\n        console.error(\"Auth error:\", error);\n        return null;\n    }\n}\nasync function handler(req, res) {\n    if (req.method === \"GET\") {\n        const { sheet } = req.query;\n        if (!process.env.SHEET_ID) {\n            console.error(\"SHEET_ID is not set in environment variables\");\n            // テスト用のダミーデータを返す\n            if (sheet === \"store_info!A2:G\") {\n                return res.status(200).json([\n                    [\n                        \"store1\",\n                        \"テスト店舗1\",\n                        \"100-0001\",\n                        \"東京都渋谷区\",\n                        \"03-1234-5678\",\n                        \"test1@example.com\",\n                        \"password1\"\n                    ],\n                    [\n                        \"store2\",\n                        \"テスト店舗2\",\n                        \"530-0001\",\n                        \"大阪府大阪市\",\n                        \"06-1234-5678\",\n                        \"test2@example.com\",\n                        \"password2\"\n                    ]\n                ]);\n            }\n            return res.status(200).json([\n                [\n                    \"store1\",\n                    \"テスト店舗1\",\n                    \"東京都渋谷区\",\n                    \"03-1234-5678\",\n                    \"山田太郎\",\n                    \"test1@example.com\"\n                ],\n                [\n                    \"store2\",\n                    \"テスト店舗2\",\n                    \"大阪府大阪市\",\n                    \"06-1234-5678\",\n                    \"佐藤次郎\",\n                    \"test2@example.com\"\n                ]\n            ]);\n        }\n        try {\n            const auth = await getAuthToken();\n            // 認証情報が取得できない場合はテストデータを返す\n            if (!auth) {\n                console.warn(\"認証情報が取得できませんでした。テストデータを返します。\");\n                if (sheet === \"store_info!A2:G\") {\n                    return res.status(200).json([\n                        [\n                            \"store1\",\n                            \"テスト店舗1\",\n                            \"100-0001\",\n                            \"東京都渋谷区\",\n                            \"03-1234-5678\",\n                            \"test1@example.com\",\n                            \"password1\"\n                        ],\n                        [\n                            \"store2\",\n                            \"テスト店舗2\",\n                            \"530-0001\",\n                            \"大阪府大阪市\",\n                            \"06-1234-5678\",\n                            \"test2@example.com\",\n                            \"password2\"\n                        ]\n                    ]);\n                }\n                return res.status(200).json([\n                    [\n                        \"store1\",\n                        \"テスト店舗1\",\n                        \"東京都渋谷区\",\n                        \"03-1234-5678\",\n                        \"山田太郎\",\n                        \"test1@example.com\"\n                    ],\n                    [\n                        \"store2\",\n                        \"テスト店舗2\",\n                        \"大阪府大阪市\",\n                        \"06-1234-5678\",\n                        \"佐藤次郎\",\n                        \"test2@example.com\"\n                    ]\n                ]);\n            }\n            const sheets = googleapis__WEBPACK_IMPORTED_MODULE_0__.google.sheets({\n                version: \"v4\",\n                auth\n            });\n            // Available_itemsシートの範囲を修正してJ列まで含める\n            let range = \"\";\n            if (sheet === \"Available_items\") {\n                range = \"Available_items!A2:K\" // J列からK列に変更\n                ;\n            } else if (sheet === \"Order_history\") {\n                range = \"Order_history!A2:AV\" // 注文履歴は広い範囲を取得\n                ;\n            } else if (sheet === \"hirock_item_history\") {\n                range = \"hirock_item_history!A2:AV\" // ハイロックの注文履歴も同じ範囲を取得\n                ;\n            } else {\n                range = `${sheet}`;\n            }\n            console.log(`Fetching data from sheet: ${range}`);\n            const response = await sheets.spreadsheets.values.get({\n                spreadsheetId: process.env.SHEET_ID,\n                range: range\n            });\n            if (!response.data.values) {\n                console.warn(`No data found in sheet: ${range}`);\n                // store_info シートの場合はテストデータを返す\n                if (sheet === \"store_info!A2:G\") {\n                    return res.status(200).json([\n                        [\n                            \"store1\",\n                            \"テスト店舗1\",\n                            \"100-0001\",\n                            \"東京都渋谷区\",\n                            \"03-1234-5678\",\n                            \"test1@example.com\",\n                            \"password1\"\n                        ],\n                        [\n                            \"store2\",\n                            \"テスト店舗2\",\n                            \"530-0001\",\n                            \"大阪府大阪市\",\n                            \"06-1234-5678\",\n                            \"test2@example.com\",\n                            \"password2\"\n                        ]\n                    ]);\n                }\n                return res.status(404).json({\n                    error: \"No data found\",\n                    sheet: sheet\n                });\n            }\n            if (sheet === \"Available_items\") {\n                // 商品データをより効率的に処理\n                const processedItems = processAvailableItems(response.data.values);\n                res.status(200).json(processedItems);\n            } else if (sheet === \"Order_history\" || sheet === \"hirock_item_history\") {\n                // 注文履歴データを処理\n                const processedOrders = processOrderHistory(response.data.values);\n                res.status(200).json(processedOrders);\n            } else {\n                res.status(200).json(response.data.values);\n            }\n        } catch (error) {\n            console.error(\"Error details:\", error);\n            // エラーメッセージをより詳細に\n            const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n            const errorStack = error instanceof Error ? error.stack : \"\";\n            // テストデータを返す（シートに応じて）\n            if (sheet === \"store_info!A2:G\") {\n                console.warn(\"店舗情報の取得に失敗しました。テストデータを返します。\");\n                return res.status(200).json([\n                    [\n                        \"store1\",\n                        \"テスト店舗1\",\n                        \"100-0001\",\n                        \"東京都渋谷区\",\n                        \"03-1234-5678\",\n                        \"test1@example.com\",\n                        \"password1\"\n                    ],\n                    [\n                        \"store2\",\n                        \"テスト店舗2\",\n                        \"530-0001\",\n                        \"大阪府大阪市\",\n                        \"06-1234-5678\",\n                        \"test2@example.com\",\n                        \"password2\"\n                    ]\n                ]);\n            }\n            res.status(500).json({\n                error: \"Error fetching data from Google Sheets\",\n                details: errorMessage,\n                stack:  true ? errorStack : 0,\n                sheet: sheet\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"GET\"\n        ]);\n        res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\n// 商品データ処理を別関数に分離して最適化\nfunction processAvailableItems(rows) {\n    const groupedItems = new Map();\n    // スプレッドシートの各行を処理\n    rows.forEach((row)=>{\n        const [id, category, name, color, size, amount, price, pricePerPiece, leadTime, partnerName, partnerEmail, imageUrl] = row;\n        // 商品名をキーとして使用\n        const key = name;\n        if (!groupedItems.has(key)) {\n            // 新しい商品の場合、初期データを設定\n            groupedItems.set(key, {\n                id: id || Math.random().toString(36).substring(2, 9),\n                category: category || \"\",\n                name: name || \"\",\n                colors: new Set(),\n                sizes: new Set(),\n                amounts: new Set(),\n                prices: {},\n                pricesPerPiece: {},\n                leadTime: leadTime || \"2週間\",\n                partnerName: partnerName || \"\",\n                partnerEmail: partnerEmail || \"\",\n                imageUrl: imageUrl || \"\"\n            });\n        }\n        // 修正箇所2: 必ず存在することを保証\n        const item = groupedItems.get(key)// 非nullアサーション演算子を使用\n        ;\n        // カラーとサイズを追加（存在する場合）\n        if (color) item.colors.add(color);\n        if (size) item.sizes.add(size);\n        // 数量を追加（販促グッズの場合は特に重要）\n        if (amount) {\n            // 数値に変換して保存\n            const amountValue = amount.toString().replace(/[^0-9]/g, \"\");\n            if (amountValue) {\n                const numAmount = Number.parseInt(amountValue, 10);\n                item.amounts.add(numAmount);\n                // 対応する価格も保存\n                if (price) {\n                    item.prices[numAmount] = price;\n                }\n                // 1個あたりの価格も保存\n                if (pricePerPiece) {\n                    item.pricesPerPiece[numAmount] = pricePerPiece;\n                }\n            }\n        }\n    });\n    // グループ化したデータを配列に変換\n    return Array.from(groupedItems.values()).map((item)=>{\n        // 数量を昇順にソート\n        const sortedAmounts = Array.from(item.amounts).sort((a, b)=>a - b);\n        // 対応する価格の配列を作成\n        const sortedPrices = sortedAmounts.map((amount)=>item.prices[amount] || \"0\");\n        // 対応する1個あたりの価格の配列を作成\n        const sortedPricesPerPiece = sortedAmounts.map((amount)=>item.pricesPerPiece[amount] || \"0\");\n        return {\n            id: item.id,\n            category: item.category,\n            name: item.name,\n            colors: Array.from(item.colors),\n            sizes: Array.from(item.sizes),\n            amounts: sortedAmounts,\n            prices: sortedPrices,\n            pricesPerPiece: sortedPricesPerPiece,\n            leadTime: item.leadTime,\n            partnerName: item.partnerName,\n            partnerEmail: item.partnerEmail,\n            imageUrl: item.imageUrl\n        };\n    });\n}\n// 特定の販促グッズリストを定義\nconst specialPromotionalItems = [\n    \"ポイントカード\",\n    \"サブスクメンバーズカード\",\n    \"サブスクフライヤー\",\n    \"フリーチケット\",\n    \"クーポン券\",\n    \"名刺\",\n    \"のぼり\",\n    \"お年賀(マイクロファイバークロス)\"\n];\n// 特定のアイテムかどうかを判定する関数\nconst isSpecialItem = (itemName)=>{\n    return specialPromotionalItems.some((name)=>itemName.includes(name));\n};\n// 注文履歴データを処理する関数\nfunction processOrderHistory(rows) {\n    return rows.map((row, index)=>{\n        // 基本情報を抽出\n        const orderNumber = row[0] || `ORD-${(index + 1).toString().padStart(5, \"0\")}`;\n        const orderDate = row[1] || \"\";\n        const orderTime = row[2] || \"\";\n        const storeName = row[3] || \"\";\n        const email = row[4] || \"\";\n        // 商品情報を抽出\n        const items = [];\n        for(let i = 5; i < Math.min(row.length, 33); i += 4){\n            // 商品名が存在する場合のみ追加\n            if (row[i]) {\n                const itemName = row[i] || \"\";\n                const itemSize = row[i + 1] || \"\";\n                const itemColor = row[i + 2] || \"\";\n                const itemQuantity = row[i + 3] || \"1\";\n                items.push({\n                    name: itemName,\n                    size: itemSize,\n                    color: itemColor,\n                    quantity: itemQuantity\n                });\n            }\n        }\n        // 出荷日とステータスを取得\n        const shippingDate = row[45] || null // AT列（46番目、0から始まるので45）\n        ;\n        const status = row[46] || \"処理中\" // AU列（47番目、0から始まるので46）\n        ;\n        return {\n            orderNumber,\n            orderDate,\n            orderTime,\n            storeName,\n            email,\n            items,\n            status,\n            shippingDate\n        };\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFDRjtRQUVBLGVBQWU7UUFDZixNQUFNRyxlQUFlL0QsR0FBRyxDQUFDLEdBQUcsSUFBSSxLQUFLLHVCQUF1Qjs7UUFDNUQsTUFBTTlCLFNBQVM4QixHQUFHLENBQUMsR0FBRyxJQUFJLE1BQU0sdUJBQXVCOztRQUV2RCxPQUFPO1lBQ0xnRDtZQUNBRTtZQUNBQztZQUNBQztZQUNBQztZQUNBQztZQUNBcEY7WUFDQTZGO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2ZmaWNlLXN1cHBsaWVzLWFwcC8uL3BhZ2VzL2FwaS9zaGVldHMudHM/ODM1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnb29nbGUgfSBmcm9tIFwiZ29vZ2xlYXBpc1wiXG5pbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiXG5cbi8vIOS/ruato+euh+aJgDE6IOWei+Wumue+qeOCkui/veWKoFxuLy8g6Zai5pWw44Gu5YmN44Gr5Lul5LiL44Gu5Z6L5a6a576p44KS6L+95YqgXG50eXBlIEdyb3VwZWRJdGVtID0ge1xuICBpZDogc3RyaW5nXG4gIGNhdGVnb3J5OiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGNvbG9yczogU2V0PHN0cmluZz5cbiAgc2l6ZXM6IFNldDxzdHJpbmc+XG4gIGFtb3VudHM6IFNldDxudW1iZXI+IC8vIOaVsOWApOWei+OBrlNldOOBqOOBl+OBpuWumue+qVxuICBwcmljZXM6IHsgW2tleTogbnVtYmVyXTogc3RyaW5nIH1cbiAgcHJpY2VzUGVyUGllY2U6IHsgW2tleTogbnVtYmVyXTogc3RyaW5nIH1cbiAgbGVhZFRpbWU6IHN0cmluZ1xuICBwYXJ0bmVyTmFtZTogc3RyaW5nXG4gIHBhcnRuZXJFbWFpbDogc3RyaW5nXG4gIGltYWdlVXJsOiBzdHJpbmcgLy8g55S75YOPVVJM44KS6L+95YqgXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEF1dGhUb2tlbigpIHtcbiAgLy8g55Kw5aKD5aSJ5pWw44OB44Kn44OD44Kv44KS6L+95Yqg44GX44CB44Ko44Op44O844Oh44OD44K744O844K444KS5pS55ZaEXG4gIGlmICghcHJvY2Vzcy5lbnYuR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTICYmICFwcm9jZXNzLmVudi5HT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFNfSlNPTikge1xuICAgIGNvbnNvbGUud2FybihcIkdvb2dsZeiqjeiovOaDheWgseOBjOioreWumuOBleOCjOOBpuOBhOOBvuOBm+OCk+OAguODhuOCueODiOODouODvOODieOBp+Wun+ihjOOBl+OBvuOBmeOAglwiKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICB0cnkge1xuICAgIC8vIEdPT0dMRV9BUFBMSUNBVElPTl9DUkVERU5USUFMU19KU09O44GM6Kit5a6a44GV44KM44Gm44GE44KL5aC05ZCI44CB44Gd44KM44KS5L2/55SoXG4gICAgaWYgKHByb2Nlc3MuZW52LkdPT0dMRV9BUFBMSUNBVElPTl9DUkVERU5USUFMU19KU09OKSB7XG4gICAgICBjb25zdCBjcmVkZW50aWFscyA9IEpTT04ucGFyc2UocHJvY2Vzcy5lbnYuR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTX0pTT04pXG4gICAgICByZXR1cm4gbmV3IGdvb2dsZS5hdXRoLkdvb2dsZUF1dGgoe1xuICAgICAgICBjcmVkZW50aWFscyxcbiAgICAgICAgc2NvcGVzOiBbXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3NwcmVhZHNoZWV0cy5yZWFkb25seVwiXSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8g5b6T5p2l44Gu5pa55rOV77yI44OV44Kh44Kk44Or44OR44K577yJXG4gICAgcmV0dXJuIG5ldyBnb29nbGUuYXV0aC5Hb29nbGVBdXRoKHtcbiAgICAgIGtleUZpbGU6IHByb2Nlc3MuZW52LkdPT0dMRV9BUFBMSUNBVElPTl9DUkVERU5USUFMUyxcbiAgICAgIHNjb3BlczogW1wiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9zcHJlYWRzaGVldHMucmVhZG9ubHlcIl0sXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiQXV0aCBlcnJvcjpcIiwgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGlmIChyZXEubWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgY29uc3QgeyBzaGVldCB9ID0gcmVxLnF1ZXJ5XG5cbiAgICBpZiAoIXByb2Nlc3MuZW52LlNIRUVUX0lEKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiU0hFRVRfSUQgaXMgbm90IHNldCBpbiBlbnZpcm9ubWVudCB2YXJpYWJsZXNcIilcbiAgICAgIC8vIOODhuOCueODiOeUqOOBruODgOODn+ODvOODh+ODvOOCv+OCkui/lOOBmVxuICAgICAgaWYgKHNoZWV0ID09PSBcInN0b3JlX2luZm8hQTI6R1wiKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihbXG4gICAgICAgICAgW1wic3RvcmUxXCIsIFwi44OG44K544OI5bqX6IiXMVwiLCBcIjEwMC0wMDAxXCIsIFwi5p2x5Lqs6YO95riL6LC35Yy6XCIsIFwiMDMtMTIzNC01Njc4XCIsIFwidGVzdDFAZXhhbXBsZS5jb21cIiwgXCJwYXNzd29yZDFcIl0sXG4gICAgICAgICAgW1wic3RvcmUyXCIsIFwi44OG44K544OI5bqX6IiXMlwiLCBcIjUzMC0wMDAxXCIsIFwi5aSn6Ziq5bqc5aSn6Ziq5biCXCIsIFwiMDYtMTIzNC01Njc4XCIsIFwidGVzdDJAZXhhbXBsZS5jb21cIiwgXCJwYXNzd29yZDJcIl0sXG4gICAgICAgIF0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oW1xuICAgICAgICBbXCJzdG9yZTFcIiwgXCLjg4bjgrnjg4jlupfoiJcxXCIsIFwi5p2x5Lqs6YO95riL6LC35Yy6XCIsIFwiMDMtMTIzNC01Njc4XCIsIFwi5bGx55Sw5aSq6YOOXCIsIFwidGVzdDFAZXhhbXBsZS5jb21cIl0sXG4gICAgICAgIFtcInN0b3JlMlwiLCBcIuODhuOCueODiOW6l+iIlzJcIiwgXCLlpKfpmKrlupzlpKfpmKrluIJcIiwgXCIwNi0xMjM0LTU2NzhcIiwgXCLkvZDol6TmrKHpg45cIiwgXCJ0ZXN0MkBleGFtcGxlLmNvbVwiXSxcbiAgICAgIF0pXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGF1dGggPSBhd2FpdCBnZXRBdXRoVG9rZW4oKVxuXG4gICAgICAvLyDoqo3oqLzmg4XloLHjgYzlj5blvpfjgafjgY3jgarjgYTloLTlkIjjga/jg4bjgrnjg4jjg4fjg7zjgr/jgpLov5TjgZlcbiAgICAgIGlmICghYXV0aCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCLoqo3oqLzmg4XloLHjgYzlj5blvpfjgafjgY3jgb7jgZvjgpPjgafjgZfjgZ/jgILjg4bjgrnjg4jjg4fjg7zjgr/jgpLov5TjgZfjgb7jgZnjgIJcIilcbiAgICAgICAgaWYgKHNoZWV0ID09PSBcInN0b3JlX2luZm8hQTI6R1wiKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFtcbiAgICAgICAgICAgIFtcInN0b3JlMVwiLCBcIuODhuOCueODiOW6l+iIlzFcIiwgXCIxMDAtMDAwMVwiLCBcIuadseS6rOmDvea4i+iwt+WMulwiLCBcIjAzLTEyMzQtNTY3OFwiLCBcInRlc3QxQGV4YW1wbGUuY29tXCIsIFwicGFzc3dvcmQxXCJdLFxuICAgICAgICAgICAgW1wic3RvcmUyXCIsIFwi44OG44K544OI5bqX6IiXMlwiLCBcIjUzMC0wMDAxXCIsIFwi5aSn6Ziq5bqc5aSn6Ziq5biCXCIsIFwiMDYtMTIzNC01Njc4XCIsIFwidGVzdDJAZXhhbXBsZS5jb21cIiwgXCJwYXNzd29yZDJcIl0sXG4gICAgICAgICAgXSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oW1xuICAgICAgICAgIFtcInN0b3JlMVwiLCBcIuODhuOCueODiOW6l+iIlzFcIiwgXCLmnbHkuqzpg73muIvosLfljLpcIiwgXCIwMy0xMjM0LTU2NzhcIiwgXCLlsbHnlLDlpKrpg45cIiwgXCJ0ZXN0MUBleGFtcGxlLmNvbVwiXSxcbiAgICAgICAgICBbXCJzdG9yZTJcIiwgXCLjg4bjgrnjg4jlupfoiJcyXCIsIFwi5aSn6Ziq5bqc5aSn6Ziq5biCXCIsIFwiMDYtMTIzNC01Njc4XCIsIFwi5L2Q6Jek5qyh6YOOXCIsIFwidGVzdDJAZXhhbXBsZS5jb21cIl0sXG4gICAgICAgIF0pXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNoZWV0cyA9IGdvb2dsZS5zaGVldHMoe1xuICAgICAgICB2ZXJzaW9uOiBcInY0XCIsXG4gICAgICAgIGF1dGgsXG4gICAgICB9KVxuXG4gICAgICAvLyBBdmFpbGFibGVfaXRlbXPjgrfjg7zjg4jjga7nr4Tlm7LjgpLkv67mraPjgZfjgaZK5YiX44G+44Gn5ZCr44KB44KLXG4gICAgICBsZXQgcmFuZ2UgPSBcIlwiXG4gICAgICBpZiAoc2hlZXQgPT09IFwiQXZhaWxhYmxlX2l0ZW1zXCIpIHtcbiAgICAgICAgcmFuZ2UgPSBcIkF2YWlsYWJsZV9pdGVtcyFBMjpLXCIgLy8gSuWIl+OBi+OCiUvliJfjgavlpInmm7RcbiAgICAgIH0gZWxzZSBpZiAoc2hlZXQgPT09IFwiT3JkZXJfaGlzdG9yeVwiKSB7XG4gICAgICAgIHJhbmdlID0gXCJPcmRlcl9oaXN0b3J5IUEyOkFWXCIgLy8g5rOo5paH5bGl5q2044Gv5bqD44GE56+E5Zuy44KS5Y+W5b6XXG4gICAgICB9IGVsc2UgaWYgKHNoZWV0ID09PSBcImhpcm9ja19pdGVtX2hpc3RvcnlcIikge1xuICAgICAgICByYW5nZSA9IFwiaGlyb2NrX2l0ZW1faGlzdG9yeSFBMjpBVlwiIC8vIOODj+OCpOODreODg+OCr+OBruazqOaWh+WxpeattOOCguWQjOOBmOevhOWbsuOCkuWPluW+l1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmFuZ2UgPSBgJHtzaGVldH1gXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKGBGZXRjaGluZyBkYXRhIGZyb20gc2hlZXQ6ICR7cmFuZ2V9YClcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaGVldHMuc3ByZWFkc2hlZXRzLnZhbHVlcy5nZXQoe1xuICAgICAgICBzcHJlYWRzaGVldElkOiBwcm9jZXNzLmVudi5TSEVFVF9JRCxcbiAgICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgfSlcblxuICAgICAgaWYgKCFyZXNwb25zZS5kYXRhLnZhbHVlcykge1xuICAgICAgICBjb25zb2xlLndhcm4oYE5vIGRhdGEgZm91bmQgaW4gc2hlZXQ6ICR7cmFuZ2V9YClcblxuICAgICAgICAvLyBzdG9yZV9pbmZvIOOCt+ODvOODiOOBruWgtOWQiOOBr+ODhuOCueODiOODh+ODvOOCv+OCkui/lOOBmVxuICAgICAgICBpZiAoc2hlZXQgPT09IFwic3RvcmVfaW5mbyFBMjpHXCIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oW1xuICAgICAgICAgICAgW1wic3RvcmUxXCIsIFwi44OG44K544OI5bqX6IiXMVwiLCBcIjEwMC0wMDAxXCIsIFwi5p2x5Lqs6YO95riL6LC35Yy6XCIsIFwiMDMtMTIzNC01Njc4XCIsIFwidGVzdDFAZXhhbXBsZS5jb21cIiwgXCJwYXNzd29yZDFcIl0sXG4gICAgICAgICAgICBbXCJzdG9yZTJcIiwgXCLjg4bjgrnjg4jlupfoiJcyXCIsIFwiNTMwLTAwMDFcIiwgXCLlpKfpmKrlupzlpKfpmKrluIJcIiwgXCIwNi0xMjM0LTU2NzhcIiwgXCJ0ZXN0MkBleGFtcGxlLmNvbVwiLCBcInBhc3N3b3JkMlwiXSxcbiAgICAgICAgICBdKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6IFwiTm8gZGF0YSBmb3VuZFwiLCBzaGVldDogc2hlZXQgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKHNoZWV0ID09PSBcIkF2YWlsYWJsZV9pdGVtc1wiKSB7XG4gICAgICAgIC8vIOWVhuWTgeODh+ODvOOCv+OCkuOCiOOCiuWKueeOh+eahOOBq+WHpueQhlxuICAgICAgICBjb25zdCBwcm9jZXNzZWRJdGVtcyA9IHByb2Nlc3NBdmFpbGFibGVJdGVtcyhyZXNwb25zZS5kYXRhLnZhbHVlcylcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvY2Vzc2VkSXRlbXMpXG4gICAgICB9IGVsc2UgaWYgKHNoZWV0ID09PSBcIk9yZGVyX2hpc3RvcnlcIiB8fCBzaGVldCA9PT0gXCJoaXJvY2tfaXRlbV9oaXN0b3J5XCIpIHtcbiAgICAgICAgLy8g5rOo5paH5bGl5q2044OH44O844K/44KS5Yem55CGXG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZE9yZGVycyA9IHByb2Nlc3NPcmRlckhpc3RvcnkocmVzcG9uc2UuZGF0YS52YWx1ZXMpXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHByb2Nlc3NlZE9yZGVycylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3BvbnNlLmRhdGEudmFsdWVzKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGV0YWlsczpcIiwgZXJyb3IpXG5cbiAgICAgIC8vIOOCqOODqeODvOODoeODg+OCu+ODvOOCuOOCkuOCiOOCiuips+e0sOOBq1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIlxuICAgICAgY29uc3QgZXJyb3JTdGFjayA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IFwiXCJcblxuICAgICAgLy8g44OG44K544OI44OH44O844K/44KS6L+U44GZ77yI44K344O844OI44Gr5b+c44GY44Gm77yJXG4gICAgICBpZiAoc2hlZXQgPT09IFwic3RvcmVfaW5mbyFBMjpHXCIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwi5bqX6IiX5oOF5aCx44Gu5Y+W5b6X44Gr5aSx5pWX44GX44G+44GX44Gf44CC44OG44K544OI44OH44O844K/44KS6L+U44GX44G+44GZ44CCXCIpXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihbXG4gICAgICAgICAgW1wic3RvcmUxXCIsIFwi44OG44K544OI5bqX6IiXMVwiLCBcIjEwMC0wMDAxXCIsIFwi5p2x5Lqs6YO95riL6LC35Yy6XCIsIFwiMDMtMTIzNC01Njc4XCIsIFwidGVzdDFAZXhhbXBsZS5jb21cIiwgXCJwYXNzd29yZDFcIl0sXG4gICAgICAgICAgW1wic3RvcmUyXCIsIFwi44OG44K544OI5bqX6IiXMlwiLCBcIjUzMC0wMDAxXCIsIFwi5aSn6Ziq5bqc5aSn6Ziq5biCXCIsIFwiMDYtMTIzNC01Njc4XCIsIFwidGVzdDJAZXhhbXBsZS5jb21cIiwgXCJwYXNzd29yZDJcIl0sXG4gICAgICAgIF0pXG4gICAgICB9XG5cbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgZXJyb3I6IFwiRXJyb3IgZmV0Y2hpbmcgZGF0YSBmcm9tIEdvb2dsZSBTaGVldHNcIixcbiAgICAgICAgZGV0YWlsczogZXJyb3JNZXNzYWdlLFxuICAgICAgICBzdGFjazogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIiA/IGVycm9yU3RhY2sgOiB1bmRlZmluZWQsXG4gICAgICAgIHNoZWV0OiBzaGVldCxcbiAgICAgIH0pXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcy5zZXRIZWFkZXIoXCJBbGxvd1wiLCBbXCJHRVRcIl0pXG4gICAgcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgKVxuICB9XG59XG5cbi8vIOWVhuWTgeODh+ODvOOCv+WHpueQhuOCkuWIpemWouaVsOOBq+WIhumbouOBl+OBpuacgOmBqeWMllxuZnVuY3Rpb24gcHJvY2Vzc0F2YWlsYWJsZUl0ZW1zKHJvd3M6IGFueVtdW10pIHtcbiAgY29uc3QgZ3JvdXBlZEl0ZW1zID0gbmV3IE1hcDxzdHJpbmcsIEdyb3VwZWRJdGVtPigpXG5cbiAgLy8g44K544OX44Os44OD44OJ44K344O844OI44Gu5ZCE6KGM44KS5Yem55CGXG4gIHJvd3MuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgY29uc3QgW1xuICAgICAgaWQsXG4gICAgICBjYXRlZ29yeSxcbiAgICAgIG5hbWUsXG4gICAgICBjb2xvcixcbiAgICAgIHNpemUsXG4gICAgICBhbW91bnQsXG4gICAgICBwcmljZSxcbiAgICAgIHByaWNlUGVyUGllY2UsXG4gICAgICBsZWFkVGltZSxcbiAgICAgIHBhcnRuZXJOYW1lLFxuICAgICAgcGFydG5lckVtYWlsLFxuICAgICAgaW1hZ2VVcmwsXG4gICAgXSA9IHJvd1xuXG4gICAgLy8g5ZWG5ZOB5ZCN44KS44Kt44O844Go44GX44Gm5L2/55SoXG4gICAgY29uc3Qga2V5ID0gbmFtZVxuXG4gICAgaWYgKCFncm91cGVkSXRlbXMuaGFzKGtleSkpIHtcbiAgICAgIC8vIOaWsOOBl+OBhOWVhuWTgeOBruWgtOWQiOOAgeWIneacn+ODh+ODvOOCv+OCkuioreWumlxuICAgICAgZ3JvdXBlZEl0ZW1zLnNldChrZXksIHtcbiAgICAgICAgaWQ6IGlkIHx8IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KSxcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5IHx8IFwiXCIsXG4gICAgICAgIG5hbWU6IG5hbWUgfHwgXCJcIixcbiAgICAgICAgY29sb3JzOiBuZXcgU2V0PHN0cmluZz4oKSxcbiAgICAgICAgc2l6ZXM6IG5ldyBTZXQ8c3RyaW5nPigpLFxuICAgICAgICBhbW91bnRzOiBuZXcgU2V0PG51bWJlcj4oKSxcbiAgICAgICAgcHJpY2VzOiB7fSxcbiAgICAgICAgcHJpY2VzUGVyUGllY2U6IHt9LFxuICAgICAgICBsZWFkVGltZTogbGVhZFRpbWUgfHwgXCIy6YCx6ZaTXCIsXG4gICAgICAgIHBhcnRuZXJOYW1lOiBwYXJ0bmVyTmFtZSB8fCBcIlwiLFxuICAgICAgICBwYXJ0bmVyRW1haWw6IHBhcnRuZXJFbWFpbCB8fCBcIlwiLCAvLyDjg5Hjg7zjg4jjg4rjg7zjga7jg6Hjg7zjg6vjgqLjg4njg6zjgrlcbiAgICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsIHx8IFwiXCIsIC8vIOeUu+WDj1VSTOOCkui/veWKoFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyDkv67mraPnrofmiYAyOiDlv4XjgZrlrZjlnKjjgZnjgovjgZPjgajjgpLkv53oqLxcbiAgICBjb25zdCBpdGVtID0gZ3JvdXBlZEl0ZW1zLmdldChrZXkpISAvLyDpnZ5udWxs44Ki44K144O844K344On44Oz5ryU566X5a2Q44KS5L2/55SoXG5cbiAgICAvLyDjgqvjg6njg7zjgajjgrXjgqTjgrrjgpLov73liqDvvIjlrZjlnKjjgZnjgovloLTlkIjvvIlcbiAgICBpZiAoY29sb3IpIGl0ZW0uY29sb3JzLmFkZChjb2xvcilcbiAgICBpZiAoc2l6ZSkgaXRlbS5zaXplcy5hZGQoc2l6ZSlcblxuICAgIC8vIOaVsOmHj+OCkui/veWKoO+8iOiyqeS/g+OCsOODg+OCuuOBruWgtOWQiOOBr+eJueOBq+mHjeimge+8iVxuICAgIGlmIChhbW91bnQpIHtcbiAgICAgIC8vIOaVsOWApOOBq+WkieaPm+OBl+OBpuS/neWtmFxuICAgICAgY29uc3QgYW1vdW50VmFsdWUgPSBhbW91bnQudG9TdHJpbmcoKS5yZXBsYWNlKC9bXjAtOV0vZywgXCJcIilcbiAgICAgIGlmIChhbW91bnRWYWx1ZSkge1xuICAgICAgICBjb25zdCBudW1BbW91bnQgPSBOdW1iZXIucGFyc2VJbnQoYW1vdW50VmFsdWUsIDEwKVxuICAgICAgICBpdGVtLmFtb3VudHMuYWRkKG51bUFtb3VudClcblxuICAgICAgICAvLyDlr77lv5zjgZnjgovkvqHmoLzjgoLkv53lrZhcbiAgICAgICAgaWYgKHByaWNlKSB7XG4gICAgICAgICAgaXRlbS5wcmljZXNbbnVtQW1vdW50XSA9IHByaWNlXG4gICAgICAgIH1cblxuICAgICAgICAvLyAx5YCL44GC44Gf44KK44Gu5L6h5qC844KC5L+d5a2YXG4gICAgICAgIGlmIChwcmljZVBlclBpZWNlKSB7XG4gICAgICAgICAgaXRlbS5wcmljZXNQZXJQaWVjZVtudW1BbW91bnRdID0gcHJpY2VQZXJQaWVjZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIC8vIOOCsOODq+ODvOODl+WMluOBl+OBn+ODh+ODvOOCv+OCkumFjeWIl+OBq+WkieaPm1xuICByZXR1cm4gQXJyYXkuZnJvbShncm91cGVkSXRlbXMudmFsdWVzKCkpLm1hcCgoaXRlbSkgPT4ge1xuICAgIC8vIOaVsOmHj+OCkuaYh+mghuOBq+OCveODvOODiFxuICAgIGNvbnN0IHNvcnRlZEFtb3VudHMgPSBBcnJheS5mcm9tKGl0ZW0uYW1vdW50cykuc29ydCgoYSwgYikgPT4gYSAtIGIpXG5cbiAgICAvLyDlr77lv5zjgZnjgovkvqHmoLzjga7phY3liJfjgpLkvZzmiJBcbiAgICBjb25zdCBzb3J0ZWRQcmljZXMgPSBzb3J0ZWRBbW91bnRzLm1hcCgoYW1vdW50KSA9PiBpdGVtLnByaWNlc1thbW91bnRdIHx8IFwiMFwiKVxuXG4gICAgLy8g5a++5b+c44GZ44KLMeWAi+OBguOBn+OCiuOBruS+oeagvOOBrumFjeWIl+OCkuS9nOaIkFxuICAgIGNvbnN0IHNvcnRlZFByaWNlc1BlclBpZWNlID0gc29ydGVkQW1vdW50cy5tYXAoKGFtb3VudCkgPT4gaXRlbS5wcmljZXNQZXJQaWVjZVthbW91bnRdIHx8IFwiMFwiKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgY2F0ZWdvcnk6IGl0ZW0uY2F0ZWdvcnksXG4gICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICBjb2xvcnM6IEFycmF5LmZyb20oaXRlbS5jb2xvcnMpLFxuICAgICAgc2l6ZXM6IEFycmF5LmZyb20oaXRlbS5zaXplcyksXG4gICAgICBhbW91bnRzOiBzb3J0ZWRBbW91bnRzLFxuICAgICAgcHJpY2VzOiBzb3J0ZWRQcmljZXMsXG4gICAgICBwcmljZXNQZXJQaWVjZTogc29ydGVkUHJpY2VzUGVyUGllY2UsXG4gICAgICBsZWFkVGltZTogaXRlbS5sZWFkVGltZSxcbiAgICAgIHBhcnRuZXJOYW1lOiBpdGVtLnBhcnRuZXJOYW1lLFxuICAgICAgcGFydG5lckVtYWlsOiBpdGVtLnBhcnRuZXJFbWFpbCwgLy8g44OR44O844OI44OK44O844Gu44Oh44O844Or44Ki44OJ44Os44K544KS6L+U44GZXG4gICAgICBpbWFnZVVybDogaXRlbS5pbWFnZVVybCwgLy8g55S75YOPVVJM44KS6L+95YqgXG4gICAgfVxuICB9KVxufVxuXG4vLyDnibnlrprjga7osqnkv4PjgrDjg4Pjgrrjg6rjgrnjg4jjgpLlrprnvqlcbmNvbnN0IHNwZWNpYWxQcm9tb3Rpb25hbEl0ZW1zID0gW1xuICBcIuODneOCpOODs+ODiOOCq+ODvOODiVwiLFxuICBcIuOCteODluOCueOCr+ODoeODs+ODkOODvOOCuuOCq+ODvOODiVwiLFxuICBcIuOCteODluOCueOCr+ODleODqeOCpOODpOODvFwiLFxuICBcIuODleODquODvOODgeOCseODg+ODiFwiLFxuICBcIuOCr+ODvOODneODs+WIuFwiLFxuICBcIuWQjeWIulwiLFxuICBcIuOBruOBvOOCilwiLFxuICBcIuOBiuW5tOizgCjjg57jgqTjgq/jg63jg5XjgqHjgqTjg5Djg7zjgq/jg63jgrkpXCIsXG5dXG5cbi8vIOeJueWumuOBruOCouOCpOODhuODoOOBi+OBqeOBhuOBi+OCkuWIpOWumuOBmeOCi+mWouaVsFxuY29uc3QgaXNTcGVjaWFsSXRlbSA9IChpdGVtTmFtZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBzcGVjaWFsUHJvbW90aW9uYWxJdGVtcy5zb21lKChuYW1lKSA9PiBpdGVtTmFtZS5pbmNsdWRlcyhuYW1lKSlcbn1cblxuLy8g5rOo5paH5bGl5q2044OH44O844K/44KS5Yem55CG44GZ44KL6Zai5pWwXG5mdW5jdGlvbiBwcm9jZXNzT3JkZXJIaXN0b3J5KHJvd3M6IGFueVtdW10pIHtcbiAgLy8g5L+u5q2j566H5omAMzog5piO56S655qE44Gq5Z6L5a6a576p44KS6L+95YqgXG4gIHR5cGUgT3JkZXJJdGVtID0ge1xuICAgIG5hbWU6IHN0cmluZ1xuICAgIHNpemU6IHN0cmluZ1xuICAgIGNvbG9yOiBzdHJpbmdcbiAgICBxdWFudGl0eTogc3RyaW5nXG4gIH1cblxuICByZXR1cm4gcm93cy5tYXAoKHJvdywgaW5kZXgpID0+IHtcbiAgICAvLyDln7rmnKzmg4XloLHjgpLmir3lh7pcbiAgICBjb25zdCBvcmRlck51bWJlciA9IHJvd1swXSB8fCBgT1JELSR7KGluZGV4ICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCg1LCBcIjBcIil9YFxuICAgIGNvbnN0IG9yZGVyRGF0ZSA9IHJvd1sxXSB8fCBcIlwiXG4gICAgY29uc3Qgb3JkZXJUaW1lID0gcm93WzJdIHx8IFwiXCJcbiAgICBjb25zdCBzdG9yZU5hbWUgPSByb3dbM10gfHwgXCJcIlxuICAgIGNvbnN0IGVtYWlsID0gcm93WzRdIHx8IFwiXCJcblxuICAgIC8vIOWVhuWTgeaDheWgseOCkuaKveWHulxuICAgIGNvbnN0IGl0ZW1zOiBPcmRlckl0ZW1bXSA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDU7IGkgPCBNYXRoLm1pbihyb3cubGVuZ3RoLCAzMyk7IGkgKz0gNCkge1xuICAgICAgLy8g5ZWG5ZOB5ZCN44GM5a2Y5Zyo44GZ44KL5aC05ZCI44Gu44G/6L+95YqgXG4gICAgICBpZiAocm93W2ldKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1OYW1lID0gcm93W2ldIHx8IFwiXCJcbiAgICAgICAgY29uc3QgaXRlbVNpemUgPSByb3dbaSArIDFdIHx8IFwiXCJcbiAgICAgICAgY29uc3QgaXRlbUNvbG9yID0gcm93W2kgKyAyXSB8fCBcIlwiXG4gICAgICAgIGNvbnN0IGl0ZW1RdWFudGl0eSA9IHJvd1tpICsgM10gfHwgXCIxXCJcblxuICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBpdGVtTmFtZSxcbiAgICAgICAgICBzaXplOiBpdGVtU2l6ZSxcbiAgICAgICAgICBjb2xvcjogaXRlbUNvbG9yLFxuICAgICAgICAgIHF1YW50aXR5OiBpdGVtUXVhbnRpdHksXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g5Ye66I235pel44Go44K544OG44O844K/44K544KS5Y+W5b6XXG4gICAgY29uc3Qgc2hpcHBpbmdEYXRlID0gcm93WzQ1XSB8fCBudWxsIC8vIEFU5YiX77yINDbnlarnm67jgIEw44GL44KJ5aeL44G+44KL44Gu44GnNDXvvIlcbiAgICBjb25zdCBzdGF0dXMgPSByb3dbNDZdIHx8IFwi5Yem55CG5LitXCIgLy8gQVXliJfvvIg0N+eVquebruOAgTDjgYvjgonlp4vjgb7jgovjga7jgac0Nu+8iVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG9yZGVyTnVtYmVyLFxuICAgICAgb3JkZXJEYXRlLFxuICAgICAgb3JkZXJUaW1lLFxuICAgICAgc3RvcmVOYW1lLFxuICAgICAgZW1haWwsXG4gICAgICBpdGVtcyxcbiAgICAgIHN0YXR1cyxcbiAgICAgIHNoaXBwaW5nRGF0ZSxcbiAgICB9XG4gIH0pXG59XG4iXSwibmFtZXMiOlsiZ29vZ2xlIiwiZ2V0QXV0aFRva2VuIiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9BUFBMSUNBVElPTl9DUkVERU5USUFMUyIsIkdPT0dMRV9BUFBMSUNBVElPTl9DUkVERU5USUFMU19KU09OIiwiY29uc29sZSIsIndhcm4iLCJjcmVkZW50aWFscyIsIkpTT04iLCJwYXJzZSIsImF1dGgiLCJHb29nbGVBdXRoIiwic2NvcGVzIiwia2V5RmlsZSIsImVycm9yIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInNoZWV0IiwicXVlcnkiLCJTSEVFVF9JRCIsInN0YXR1cyIsImpzb24iLCJzaGVldHMiLCJ2ZXJzaW9uIiwicmFuZ2UiLCJsb2ciLCJyZXNwb25zZSIsInNwcmVhZHNoZWV0cyIsInZhbHVlcyIsImdldCIsInNwcmVhZHNoZWV0SWQiLCJkYXRhIiwicHJvY2Vzc2VkSXRlbXMiLCJwcm9jZXNzQXZhaWxhYmxlSXRlbXMiLCJwcm9jZXNzZWRPcmRlcnMiLCJwcm9jZXNzT3JkZXJIaXN0b3J5IiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJtZXNzYWdlIiwiZXJyb3JTdGFjayIsInN0YWNrIiwiZGV0YWlscyIsIk5PREVfRU5WIiwidW5kZWZpbmVkIiwic2V0SGVhZGVyIiwiZW5kIiwicm93cyIsImdyb3VwZWRJdGVtcyIsIk1hcCIsImZvckVhY2giLCJyb3ciLCJpZCIsImNhdGVnb3J5IiwibmFtZSIsImNvbG9yIiwic2l6ZSIsImFtb3VudCIsInByaWNlIiwicHJpY2VQZXJQaWVjZSIsImxlYWRUaW1lIiwicGFydG5lck5hbWUiLCJwYXJ0bmVyRW1haWwiLCJpbWFnZVVybCIsImtleSIsImhhcyIsInNldCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImNvbG9ycyIsIlNldCIsInNpemVzIiwiYW1vdW50cyIsInByaWNlcyIsInByaWNlc1BlclBpZWNlIiwiaXRlbSIsImFkZCIsImFtb3VudFZhbHVlIiwicmVwbGFjZSIsIm51bUFtb3VudCIsIk51bWJlciIsInBhcnNlSW50IiwiQXJyYXkiLCJmcm9tIiwibWFwIiwic29ydGVkQW1vdW50cyIsInNvcnQiLCJhIiwiYiIsInNvcnRlZFByaWNlcyIsInNvcnRlZFByaWNlc1BlclBpZWNlIiwic3BlY2lhbFByb21vdGlvbmFsSXRlbXMiLCJpc1NwZWNpYWxJdGVtIiwiaXRlbU5hbWUiLCJzb21lIiwiaW5jbHVkZXMiLCJpbmRleCIsIm9yZGVyTnVtYmVyIiwicGFkU3RhcnQiLCJvcmRlckRhdGUiLCJvcmRlclRpbWUiLCJzdG9yZU5hbWUiLCJlbWFpbCIsIml0ZW1zIiwiaSIsIm1pbiIsImxlbmd0aCIsIml0ZW1TaXplIiwiaXRlbUNvbG9yIiwiaXRlbVF1YW50aXR5IiwicHVzaCIsInF1YW50aXR5Iiwic2hpcHBpbmdEYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/sheets.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsheets&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsheets.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();